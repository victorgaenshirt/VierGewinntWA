@import de.htwg.se.VierGewinnt.model.gridComponent.GridInterface
@import de.htwg.se.VierGewinnt.model.gridComponent.gridBaseImpl.Chip
@(grid: GridInterface, state: String, player: String)

@main("Vier Gewinnt") {
    <body>
        <h1 class="title">Willkommen zu <br> Vier Gewinnt!</h1>
        @if(state.contains("won")) {
            <h2 class="text win">@player you won!!</h2>
        } else {
            <h2 class="text">@state @player it's your turn!</h2>
        }
        <div class="buttons">
            <button class="button" onclick="newGame(0)">Spiel starten</button>
            <form method="GET" action="/gameIntro">
                <input class="button" type="submit" value="4 Gewinnt - Regeln">
            </form>
        </div>

        <div id="grid"></div>
        <div id="chipcollection" style="display:none">
            @for(col2 <- 0 until grid.size) {
                <div style="display=none">
                    @for(row2 <- grid.size - 1 to 0 by -1) {
                        @grid.getCell(row2,col2).value match {
                            case Chip.RED => {
                                <div id="x@{col2}y@{row2}" style ="display:none">chip-red</div>
                            }
                            case Chip.YELLOW => {
                                <div id="x@{col2}y@{row2}" style="display:none">chip-yellow</div>
                            }
                            case _ => {
                                <div id="x@{col2}y@{row2}" style="display:none">chip-empty</div>
                            }
                        }
                    }
                </div>
            }
        </div>

        <div id="gridsize" style="display:none">@grid.size</div>
        <script src="@{routes.Assets.versioned("javascripts/grid.js")}"></script>
    </body>
}